:root { --radius: 14px; --bg: #0e0f12; --card: #16181d; --muted: #9aa0a6; --text: #e8eaed; --accent: #6ea8fe; }
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; background: var(--bg); color: var(--text); font: 15px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; }

.site-header { position: sticky; top: 0; background: #111318; border-bottom: 1px solid #24262b; z-index: 10; }
.nav { max-width: 1120px; margin: 0 auto; display: flex; align-items: center; gap: 14px; padding: 12px 16px; }
.nav .brand { font-weight: 700; text-decoration: none; color: var(--text); }
.nav a { color: var(--muted); text-decoration: none; }
.nav a:hover { color: var(--text); }
.nav .spacer { flex: 1; }
.nav .hello { color: var(--muted); margin-right: 8px; }

.container { max-width: 1120px; margin: 24px auto; padding: 0 16px; }
.footer { max-width: 1120px; margin: 32px auto; padding: 12px 16px; color: var(--muted); border-top: 1px solid #24262b; }

.flash { background: #152a12; border: 1px solid #1f4b18; color: #b7f397; padding: 10px 12px; border-radius: 10px; margin-bottom: 16px; }
.flash.warn { background:#2a1512; border:1px solid #4b1f18; color:#f3b797; }

.cards { display: grid; grid-template-columns: 1fr; gap: 16px; }
@media (min-width: 900px) { .cards { grid-template-columns: 1fr 1fr 1fr; } }
.card { background: var(--card); border: 1px solid #24262b; border-radius: var(--radius); padding: 12px; }
.card h2 { margin-top: 4px; }

.table { width: 100%; border-collapse: collapse; background: transparent; border-radius: var(--radius); overflow: hidden; }
.table th, .table td { padding: 8px 10px; border-bottom: 1px solid #22252b; }
.table th { text-align: left; color: var(--muted); font-weight: 600; background: #171a20; }
.table td.num, .table th.num { text-align: right; }
.table tbody tr:hover { background: #1a1d24; }
.table .muted { text-align: center; color: var(--muted); padding: 18px; }

.form { display: grid; gap: 12px; background: var(--card); padding: 16px; border-radius: var(--radius); border: 1px solid #24262b; }
.form label { display: grid; gap: 6px; }
.form input, .form select { background: #0f1116; color: var(--text); border: 1px solid #2b2e35; border-radius: 8px; padding: 10px 12px; }
.form .hint { color: var(--muted); font-size: 12px; margin-top: -4px; }
.actions { display: flex; gap: 8px; margin-top: 4px; }

.btn { display: inline-block; background: var(--accent); color: #0a0c10; border: none; padding: 8px 12px; border-radius: 10px; font-weight: 700; text-decoration: none; cursor: pointer; }
.btn:hover { filter: brightness(1.05); }
.btn.ghost { background: transparent; color: var(--text); border: 1px solid #2b2e35; }
.btn.small { padding: 6px 10px; font-weight: 600; }

/* Ensure button text is readable even inside .nav */
.nav a.btn,
.nav a.btn:link,
.nav a.btn:visited,
.nav a.btn:hover,
.nav a.btn:active { color: #0a0c10 !important; }
.nav a.btn.ghost,
.nav a.btn.ghost:link,
.nav a.btn.ghost:visited,
.nav a.btn.ghost:hover,
.nav a.btn.ghost:active { color: var(--text) !important; }

/* Layout with left sidebar */
.layout { display: grid; grid-template-columns: 240px 1fr; gap: 16px; }
@media (max-width: 900px) { .layout { grid-template-columns: 1fr; } }

/* Sidebar */
.sidebar { background: var(--card); border: 1px solid #24262b; border-radius: var(--radius); padding: 12px; }
.sidebar-title { margin: 4px 0 8px; font-size: 18px; }
.sidebar .list { list-style: none; padding: 0; margin: 0; }
.sidebar .list li { border-bottom: 1px solid #22252b; }
.sidebar .list li a { display: block; padding: 8px 10px; border-radius: 8px; color: var(--text); text-decoration: none; }
.sidebar .list li a:hover, .sidebar .list li a.active { background: #1a1d24; }

.board-name { color: var(--muted); font-weight: 600; }


/* --- v6.1 layout fixes --- */
html, body { overflow-x: hidden; }
.container { overflow-x: hidden; }

/* Make main 3-card grid wrap nicely and avoid overflow */
.cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; }

/* Prevent grid overflow from fixed sidebar width */
.layout { display: grid; grid-template-columns: minmax(0, 240px) minmax(0, 1fr); gap: 16px; }

/* Tiny form style for sidebar create */
.form.tiny { padding: 8px; }
.form.tiny input { padding: 8px 10px; }
